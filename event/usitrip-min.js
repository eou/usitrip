/*! www.usitrip.com 2015-08-12 08:08:48 */
Usitrip.ns("usitrip.event"),function(){usitrip.event.UsitripEvent=function(a){this.eventHash={};var b;if(a&&(b=a.listeners)){var c=b.scope||window;for(var d in b)"scope"!==d&&this.on(d,b[d],c)}},usitrip.event.UsitripEvent.fn=usitrip.event.UsitripEvent.prototype,usitrip.event.UsitripEvent.fn.addEvents=function(a){if(Usitrip.isArray(a))for(var b=0,c=a.length;c>b;b++){var d=a[b].toLowerCase(),e=this.eventHash[d];e||(this.eventHash[d]=[])}else if(Usitrip.isString(a)){var e=this.eventHash[a];e||(this.eventHash[a.toLowerCase()]=[])}},usitrip.event.UsitripEvent.fn.removeEvents=function(a){if(Usitrip.isArray(a))for(var b=0,c=a.length;c>b;b++)delete this.eventHash[a[b]];else Usitrip.isString(a)&&delete this.eventHash[a]},usitrip.event.UsitripEvent.fn.addListenerEvent=function(a,b,c){a=a.toLowerCase();var d=this.eventHash[a];(Usitrip.isEmpty(d)||Usitrip.isEmptyArray(d))&&(this.eventHash[a]=[]),this.eventHash[a].push({fn:b,scope:c})},usitrip.event.UsitripEvent.fn.fireEvent=function(a,b){a=a.toLowerCase();for(var c=this.eventHash[a],d=[],e=2,f=arguments.length;f>e;e++)d.push(arguments[e]);if(!Usitrip.isEmpty(c)&&!Usitrip.isEmptyArray(c))for(var g,h,e=0,f=c.length;f>e;e++)g=c[e].fn,h=c[e].scope,g.apply(h||b||this,d)},UsitripEvent=usitrip.event.UsitripEvent,UsitripEvent.eventHash={},UsitripEvent.on=usitrip.event.UsitripEvent.fn.on=usitrip.event.UsitripEvent.fn.addListenerEvent,UsitripEvent.un=usitrip.event.UsitripEvent.fn.removeEvents,UsitripEvent.fireEvent=usitrip.event.UsitripEvent.fn.fireEvent,UsitripEvent.addEvents=usitrip.event.UsitripEvent.fn.addEvents}();
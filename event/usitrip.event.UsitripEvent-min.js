Usitrip.ns("usitrip.event"),function(){usitrip.event.UsitripEvent=function(config){this.eventHash={};var lis;if(config&&(lis=config.listeners)){var scope=lis.scope||window;for(var p in lis)"scope"!==p&&this.on(p,lis[p],scope)}},usitrip.event.UsitripEvent.fn=usitrip.event.UsitripEvent.prototype,usitrip.event.UsitripEvent.fn.addEvents=function(eventName){if(Usitrip.isArray(eventName))for(var i=0,len=eventName.length;len>i;i++){var name=eventName[i].toLowerCase(),handles=this.eventHash[name];handles||(this.eventHash[name]=[])}else if(Usitrip.isString(eventName)){var handles=this.eventHash[eventName];handles||(this.eventHash[eventName.toLowerCase()]=[])}},usitrip.event.UsitripEvent.fn.removeEvents=function(eventName){if(Usitrip.isArray(eventName))for(var i=0,len=eventName.length;len>i;i++)delete this.eventHash[eventName[i]];else Usitrip.isString(eventName)&&delete this.eventHash[eventName]},usitrip.event.UsitripEvent.fn.addListenerEvent=function(eventName,eventFn,scope){eventName=eventName.toLowerCase();var eventFns=this.eventHash[eventName];(Usitrip.isEmpty(eventFns)||Usitrip.isEmptyArray(eventFns))&&(this.eventHash[eventName]=[]),this.eventHash[eventName].push({fn:eventFn,scope:scope})},usitrip.event.UsitripEvent.fn.fireEvent=function(eventName,scope){eventName=eventName.toLowerCase();for(var eventFns=this.eventHash[eventName],options=[],i=2,len=arguments.length;len>i;i++)options.push(arguments[i]);if(!Usitrip.isEmpty(eventFns)&&!Usitrip.isEmptyArray(eventFns))for(var fn,callScope,i=0,len=eventFns.length;len>i;i++)fn=eventFns[i].fn,callScope=eventFns[i].scope,fn.apply(callScope||scope||this,options)},UsitripEvent=usitrip.event.UsitripEvent,UsitripEvent.eventHash={},UsitripEvent.on=usitrip.event.UsitripEvent.fn.on=usitrip.event.UsitripEvent.fn.addListenerEvent,UsitripEvent.un=usitrip.event.UsitripEvent.fn.removeEvents,UsitripEvent.fireEvent=usitrip.event.UsitripEvent.fn.fireEvent,UsitripEvent.addEvents=usitrip.event.UsitripEvent.fn.addEvents}();
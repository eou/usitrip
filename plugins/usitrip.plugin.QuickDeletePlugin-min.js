Usitrip.ns("usitrip.plugin"),usitrip.plugin.QuickDeletePlugin=function(config){usitrip.plugin.QuickDeletePlugin.superclass.constructor.apply(this,arguments),this.init(config)},Usitrip.extend(usitrip.plugin.QuickDeletePlugin,usitrip.event.UsitripEvent,{selector:"input[type=text]",_click:null,init:function(config){Usitrip.apply(this,config);var oInputs=$(this.selector);null==this._click&&(this._click=function(){var oInput=$(this).prev();oInput.val(""),$(this).hide(),oInput.focus()}),this.render(oInputs)},render:function(oInputs){var html='<div class="quick-delete"></div>',self=this;oInputs.each(function(){var oInput=$(this);if(oInput.attr("readonly")||oInput.attr("disabled"));else{var oParent=oInput.parent(),oparentPos=oParent.css("position");"absolute"==oparentPos||"fixed"==oparentPos?oParent.wrapInner(function(){return'<div class="quickPosi" />'}):oParent.css("position","relative"),oInput.after(html);var oQuickDelete=oInput.next();self.ininEvent(oQuickDelete,oInput)}})},initPosition:function(oQuickDelete,oInput){var marTop=oInput.css("marginTop"),paddTop=oInput.css("paddingTop"),borderTop=oInput.css("borderTop"),posiTop=oInput.position().top;marTop=marTop?parseFloat(marTop):0,paddTop=paddTop?parseFloat(paddTop):0,borderTop=borderTop?parseFloat(borderTop):0,posiTop=posiTop?parseFloat(posiTop):0;var size=oInput.height()/oQuickDelete.height()*100;size>=100&&(size=100),oQuickDelete.css({top:marTop+paddTop+borderTop+posiTop,backgroundSize:size+"%"});var marginLeft=oInput.css("marginLeft"),paddingLeft=oInput.css("paddingLeft"),borderLeft=oInput.css("borderLeft"),posiLeft=oInput.position().left;marginLeft=marginLeft?parseFloat(marginLeft):0,paddingLeft=paddingLeft?parseFloat(paddingLeft):0,borderLeft=borderLeft?parseFloat(borderLeft):0,posiLeft=posiLeft?parseFloat(posiLeft):0,oQuickDelete.css({left:oInput.width()-oQuickDelete.width()*parseFloat(oQuickDelete.css("backgroundSize"))/100+marginLeft+paddingLeft+borderLeft+posiLeft})},ininEvent:function(oQuickDelete,oInput){var self=this,tag=oInput.get(0).tagName;"INPUT"==tag||"TEXTAREA"==tag?(oInput.focusin(function(){$(this).val()?(self.initPosition(oQuickDelete,oInput),oQuickDelete.show()):oQuickDelete.hide()}),oInput.focusout(function(){setTimeout(function(){oQuickDelete.hide()},300)}),oInput.keyup(function(){$(this).val()?(self.initPosition(oQuickDelete,oInput),oQuickDelete.show()):oQuickDelete.hide()})):oInput.parent().hover(function(){self.initPosition(oQuickDelete,oInput),oQuickDelete.toggle()}),oQuickDelete.click(self._click)}});